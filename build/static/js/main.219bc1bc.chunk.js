(this["webpackJsonptranslate-app"]=this["webpackJsonptranslate-app"]||[]).push([[0],{87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(29),s=n.n(r),i=n(11),o=n(47),l=(n(74),n(89),o.a.initializeApp({apiKey:"AIzaSyA6m7m37i9BJnggNX5__JYIN_s4P82x63s",authDomain:"translate-app-5fbf7.firebaseapp.com",projectId:"translate-app-5fbf7",storageBucket:"translate-app-5fbf7.appspot.com",messagingSenderId:"939128380472",appId:"1:939128380472:web:b48e3cdb93c54e18961acd"})),u=l.auth(),j=l.firestore(),d=n(2),b=Object(a.createContext)(),h=function(){return Object(a.useContext)(b)},O=function(e){var t=e.children,n=Object(a.useState)(),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(!0),l=Object(i.a)(o,2),j=l[0],h=l[1];Object(a.useEffect)((function(){var e=u.onAuthStateChanged((function(e){s(e),h(!1)}));return function(){e()}}),[]);var O={currentUser:r,signup:function(e){return u.createUserWithEmailAndPassword(e+"@translate-app.com","translate-app")},login:function(e){return u.signInWithEmailAndPassword(e+"@translate-app.com","translate-app")},logout:function(){return u.signOut()}};return Object(d.jsx)(b.Provider,{value:O,children:!j&&t})},m=n(23),x=n.n(m),f=n(33),p=n(12),g=n(68),v=function(){var e=Object(f.a)(x.a.mark((function e(t,n,a,c,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.trim().length>3&&t.trim().length<25)){e.next=16;break}return e.prev=1,a(!0),e.next=5,n(t.trim());case 5:r.push("/translate"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),"auth/invalid-email"===e.t0.code?c("The username was not valid"):c(e.t0.code);case 11:return e.prev=11,a(!1),e.finish(11);case 14:e.next=17;break;case 16:c("Username must be between 4 and 24 characters long");case 17:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t,n,a,c,r){return e.apply(this,arguments)}}(),w=n(21),N=function(e){var t=e.path,n=e.link,a=h().currentUser;return Object(d.jsxs)("div",{className:"d-flex justify-content-center align-items-center pt-5",children:[Object(d.jsx)("img",{src:"/images/Logo-Hello.png",alt:"logo"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"title",style:y,children:"Lost in Translation"}),Object(d.jsx)("h2",{className:"title mb-4",children:"Get started"}),!a&&Object(d.jsx)(w.b,{to:t,className:"register-link",children:n})]})]})},y={fontSize:"3.5rem"},k=function(e){return e.slice(0,e.lastIndexOf("@"))},S=function(){var e=h(),t=e.currentUser,n=e.logout;return Object(d.jsxs)("div",{className:"login-container rounded shadow d-flex container justify-content-center flex-column align-items-center bg-white",children:[Object(d.jsxs)("p",{className:"response-text",children:["You are currently logged in as ",k(t.email)]}),Object(d.jsx)("hr",{}),Object(d.jsx)("button",{className:"btn btn-warning",onClick:function(){return n()},children:"Log out"})]})},C=function(e){var t=e.placeholder,n=e.value,c=e.setValue,r=e.setError;return Object(d.jsx)(a.Fragment,{children:Object(d.jsx)("input",{className:"form-input",type:"text",placeholder:t,value:n,onChange:function(e){r(""),c(e.target.value)}})})},T=n(67),E=n(95),I=n(66),D=function(e){var t=e.error,n=e.show,a=e.setShow,c=function(){return a(!1)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(E.a,{show:n,onHide:c,animation:!1,children:[Object(d.jsx)(E.a.Header,{closeButton:!0,children:Object(d.jsx)(E.a.Title,{children:"Error"})}),Object(d.jsx)(E.a.Body,{children:t}),Object(d.jsx)(E.a.Footer,{children:Object(d.jsx)(I.a,{variant:"secondary",onClick:c,children:"OK"})})]})})},F=function(e){var t=e.handleSubmit,n=e.inputData,c=e.setInputData,r=e.loading,s=e.placeholderText,o=e.error,l=e.setError,u=Object(a.useState)(!1),j=Object(i.a)(u,2),b=j[0],h=j[1];return Object(a.useEffect)((function(){o.length&&h(!0)}),[o]),Object(d.jsxs)("form",{style:B,onSubmit:t,children:[b&&Object(d.jsx)(D,{error:o,show:b,setShow:h}),Object(d.jsx)(C,{placeholder:s,value:n,setValue:c,setError:l}),r?Object(d.jsx)(T.a,{style:U,animation:"border"}):Object(d.jsx)("i",{className:"bi bi-arrow-right-circle-fill submit-icon",onClick:t})]})},U={position:"absolute",top:"30%",right:"35px",width:"3rem",height:"3rem",color:"#845ec2"},B={width:"80%",position:"relative"},P=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(""),j=Object(i.a)(u,2),b=j[0],O=j[1],m=h(),w=m.login,y=m.currentUser,k=Object(p.g)(),C=function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v(n,w,l,O,k);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){c("")}}),[k]),Object(d.jsxs)(g.a,{fluid:!0,className:"hero-container",children:[Object(d.jsx)(g.a,{className:"d-flex justify-content-center align-items-center",children:Object(d.jsx)(N,{path:"/register",link:"New user?"})}),y?Object(d.jsx)(S,{}):Object(d.jsx)("div",{className:"login-container rounded shadow d-flex flex-column container justify-content-center align-items-center bg-white",children:Object(d.jsx)(F,{handleSubmit:C,inputData:n,setInputData:c,loading:o,placeholderText:"What's your name?",error:b,setError:O})})]})},A=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(a.useState)(!1),j=Object(i.a)(u,2),b=j[0],O=j[1],m=h(),x=m.signup,f=m.currentUser,w=Object(p.g)();return Object(a.useEffect)((function(){return function(){c("")}}),[w]),Object(d.jsxs)(g.a,{fluid:!0,className:"hero-container",children:[Object(d.jsx)(g.a,{className:"d-flex justify-content-center align-items-center",children:Object(d.jsx)(N,{path:"/",link:"Already got a user?"})}),f?Object(d.jsx)(S,{}):Object(d.jsx)("div",{className:"login-container rounded shadow d-flex flex-column container justify-content-center align-items-center bg-white",children:Object(d.jsx)(F,{handleSubmit:function(e){e.preventDefault(),v(n,x,O,l,w)},input:n,setInputData:c,loading:b,placeholderText:"What's your name?",error:o,setError:l})})]})},L=n(36),z=Object(a.createContext)(),H=function(){return Object(a.useContext)(z)},_=function(e){var t=e.children,n=h().currentUser,c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],l=r[1],u=Object(a.useState)(!0),b=Object(i.a)(u,2),O=b[0],m=b[1];Object(a.useEffect)((function(){var e=j.collection("translations").where("uid","==",n.uid).where("deleted","==",!1).orderBy("created_at","desc").limit(10).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(L.a)({id:e.id},e.data())}));l(t),m(!1)}));return function(){e()}}),[n]);var x={translations:s,addTranslation:function(e){return j.collection("translations").add(Object(L.a)(Object(L.a)({},e),{},{created_at:o.a.firestore.Timestamp.fromDate(new Date)}))},deleteTranslation:function(e){return j.collection("translations").doc(e).update({deleted:!0})}};return Object(d.jsx)(z.Provider,{value:x,children:!O&&t})},J=function(e){return e.message.split("").map((function(e,t){return" "!==e?Object(d.jsx)("img",{className:"sign-image",src:""+"/signs/".concat(e,".png"),alt:"translate-img"},t):Object(d.jsx)("p",{})}))},W=function(e){var t=e.message;return Object(d.jsx)(g.a,{className:"translation-container d-flex flex-column justify-content-center align-items-center",children:Object(d.jsxs)("div",{className:"translation-output shadow",children:[Object(d.jsx)("div",{className:"translation-output-main",children:t.length?Object(d.jsx)(J,{message:t}):""}),Object(d.jsx)("div",{className:"translation-output-footer",children:Object(d.jsx)("span",{className:"font-weight-bold",children:"Translation"})})]})})},Y=function(){var e=h().currentUser,t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(i.a)(s,2),l=o[0],u=o[1],j=Object(a.useState)(!1),b=Object(i.a)(j,2),O=b[0],m=b[1],p=Object(a.useState)(""),v=Object(i.a)(p,2),w=v[0],N=v[1],y=H().addTranslation,k=function(){var t=Object(f.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!(c.trim().length>2)){t.next=19;break}return a={uid:e.uid,message:c.trim(),deleted:!1},t.prev=3,m(!0),t.next=7,y(a);case 7:u(c.trim()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),N(t.t0);case 13:return t.prev=13,r(""),m(!1),t.finish(13);case 17:t.next=20;break;case 19:N("Text needs to be longer than 2 characters");case 20:case"end":return t.stop()}}),t,null,[[3,10,13,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(g.a,{fluid:!0,className:"sub-page-container",children:Object(d.jsx)(g.a,{className:"sub-page-input d-flex justify-content-center align-items-center",children:Object(d.jsx)(F,{handleSubmit:k,inputData:c,setInputData:r,loading:O,placeholderText:"Text to be translated",error:w,setError:N})})}),Object(d.jsx)(W,{message:l})]})},K=n(98),V=function(e){var t=e.show,n=e.handleClose,a=e.message;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(E.a,{show:t,onHide:n,animation:!1,children:[Object(d.jsx)(E.a.Header,{closeButton:!0,children:Object(d.jsxs)(E.a.Title,{children:["Translation - ",a]})}),Object(d.jsx)(E.a.Body,{children:a&&Object(d.jsx)(J,{message:a})}),Object(d.jsx)(E.a.Footer,{children:Object(d.jsx)(I.a,{variant:"secondary",onClick:n,children:"OK"})})]})})},G=function(e){var t=e.id,n=e.message,c=H().deleteTranslation,r=Object(a.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsxs)(K.a.Item,{className:"d-flex justify-content-between align-items-center translation-item",onClick:function(){return l(!0)},children:[n,Object(d.jsx)("i",{className:"bi bi-x-circle-fill delete-icon",onClick:function(e){e.stopPropagation(),c(t)}})]}),o&&Object(d.jsx)(V,{show:o,handleClose:function(){return l(!1)},message:n})]})},M=function(){var e=H().translations;return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(g.a,{fluid:!0,className:"sub-page-container",children:Object(d.jsxs)(g.a,{className:"sub-page-input d-flex justify-content-center flex-column align-items-center",children:[Object(d.jsx)("h1",{className:"title",style:q,children:"Your recent translations"}),Object(d.jsx)("h4",{className:"title",children:"Click on a message to view translation"})]})}),Object(d.jsx)(g.a,{className:"translation-container d-flex flex-column justify-content-center align-items-center",children:Object(d.jsx)(K.a,{style:X,className:"shadow ".concat(!e.length&&"justify-content-center align-items-center"),children:e.length?e.map((function(e){return Object(d.jsx)(G,{id:e.id,message:e.message},e.id)})):Object(d.jsx)("p",{className:"response-text",children:"You dont have any translations at the moment"})})})]})},X={width:"80%",height:"50vh"},q={fontSize:"3.5rem"},Q=n(96),R=n(97),Z=n(94),$=function(){var e=h(),t=e.logout,n=e.currentUser,a=Object(p.g)(),c=function(){var e=Object(f.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:a.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(R.a,{className:"ml-auto align-items-center user-actions",children:[Object(d.jsxs)(Z.a,{style:ee,title:k(n.email),id:"basic-nav-dropdown",children:[Object(d.jsx)(w.b,{className:"dropdown-item user-link",onClick:function(){document.body.click()},to:"/profile",children:"Profile"}),Object(d.jsx)(w.b,{className:"dropdown-item user-link",onClick:function(){document.body.click()},to:"/translate",children:"Translate"}),Object(d.jsx)("button",{className:"dropdown-item user-link",onClick:c,children:"Log out"})]}),Object(d.jsx)("i",{className:"bi bi-person-circle user-icon"})]})},ee={left:"-10px"},te=function(){var e=h().currentUser;return Object(d.jsx)(Q.a,{style:ne,expand:"lg",className:"header shadow-sm",children:Object(d.jsxs)(g.a,{children:[Object(d.jsx)(w.b,{className:"navbar-brand title",style:ae,to:"/",children:"Lost in Translation"}),Object(d.jsx)(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsx)(Q.a.Collapse,{id:"basic-navbar-nav",children:e&&Object(d.jsx)($,{})})]})})},ne={zIndex:"5"},ae={fontSize:"2.25rem"},ce=n(69),re=function(e){var t=e.component,n=Object(ce.a)(e,["component"]),a=h().currentUser;return Object(d.jsx)(p.b,Object(L.a)(Object(L.a)({},n),{},{render:function(e){return a?Object(d.jsx)(_,{children:Object(d.jsx)(t,Object(L.a)({},e))}):Object(d.jsx)(p.a,{to:"/"})}}))};var se=function(){return Object(d.jsx)(g.a,{fluid:!0,className:"main",children:Object(d.jsx)(O,{children:Object(d.jsxs)(w.a,{children:[Object(d.jsx)(te,{}),Object(d.jsxs)(p.d,{children:[Object(d.jsx)(p.b,{path:"/",exact:!0,component:P}),Object(d.jsx)(p.b,{path:"/register",exact:!0,component:A}),Object(d.jsx)(re,{path:"/translate",component:Y}),Object(d.jsx)(re,{path:"/profile",component:M})]})]})})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};n(86),n(87);s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(se,{})}),document.getElementById("root")),ie()}},[[88,1,2]]]);
//# sourceMappingURL=main.219bc1bc.chunk.js.map